<!DOCTYPE html>
<html>
<head>
    <title>{CryptorsScript 1.0}</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Exo:wght@500;700&amp;display=swap" rel="stylesheet">
	<link href="https://fonts.cdnfonts.com/css/visitor-tt1-brk?styles=93238" rel="stylesheet">
    <style>
        body {
            margin:  100px 20px;
			background: #0832bf;
        }
        h1 {
            text-align: center;
			font-family: "Visitor TT1 BRK";
			color: white;
			text-shadow: 0 0 10px #80FA80;
			font-size: 50px;
			float: left;
			padding: 16px;
        }

        #codeInput {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
			font-family: "Visitor TT1 BRK";
			font-size: 20px;
			align: center;
			color: #80FA80;
			border-color: #80FA80;
			background: #418E8D;
			border-size: 3px;
        }

        
		#output {
            width: 99%;
            height: 200px;
            background-color: #f5f5f5;
            padding: 10px;
            overflow: auto;
			font-family: "Visitor TT1 BRK";
			font-size: 20px;
			color: #80FA80;
			border-color: #80FA80;
			background: #418E8D;
			border-size: 3px;
        }
		#console {
            width: 99%;
            height: 200px;
            background-color: #f5f5f5;
            padding: 10px;
            overflow: auto;
			font-family: "Visitor TT1 BRK";
			font-size: 20px;
			color: #80FA80;
			border-color: #80FA80;
			background: #418E8D;
			border-size: 3px;
        }
				#lol {
            width: 99%;
            height: 3500px;
            background-color: #f5f5f5;
            padding: 10px;
            overflow: auto;
			font-family: "Visitor TT1 BRK";
			font-size: 20px;
			color: #80FA80;
			border-color: #80FA80;
			background: #418E8D;
			border-size: 3px;
        }

        #runButton {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            background-color: #418E8D;
            color: white;
            cursor: pointer;
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 32px;
			border-size: 3px;
			
        }

        #downloadButton {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            background-color: #418E8D;
            color: white;
            cursor: pointer;
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 32px;
			border-size: 3px;
			position: relative;
		    top: 0;
		    left: 100;
        }
		p{
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 32px;
			border-size: 3px;
		}
#header {
overflow: hidden;
    background-color: #333;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
}

#header h1 {
  font-family: "Visitor TT1 BRK";
  color: white;
  text-shadow: 0 0 10px #80FA80;
  font-size: 50px;
  margin: 0;
  float: left;
}

#header button {
  display: inline-block;
  margin: 16px;
  padding: 10px 10px;
  background-color: #418E8D;
  color: white;
  cursor: pointer;
  font-family: "Visitor TT1 BRK";
  font-size: 12px;
   background-color: #418E8D;
            color: white;
            cursor: pointer;
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 32px;
			border-size: 3px;
}
#pageSelect {
    margin: 16px;
    font-family: "Visitor TT1 BRK";
    font-size: 20px;
    background-color: #418E8D;
    color: #80FA80;
    padding: 8px;
    border-radius: 4px;
	 background-color: #418E8D;
            color: white;
            cursor: pointer;
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 30px;
			border-size: 3px;
}

#pageSelect option {
    background-color: #418E8D;
    color: #80FA80;
}
			h2{
			color: #80FA80;
			border-color: #80FA80;
			font-family: "Visitor TT1 BRK";
			font-size: 50px;
			border-size: 3px;
		}

</style>
</head>
<body>
<div id="header">
    <h1>{ CryptorsScript 1.0 }</h1>
    <button id="runButton" onclick="interpretCode()">Run</button>
    <button id="downloadButton" onclick="downloadCode()">Download</button>
	<select id="pageSelect" onchange="goToPage(this.value)">
        <option value="https://bdojbcxurvyna9zeg28nua.on.drv.tw/cryptors/">CryptorsScript</option>
        <option value="https://cryptors.io/">Cryptors</option>
        <option value="https://discord.com/invite/cryptors">Discord</option>
        <option value="https://cryptors.io/lore-games.html">Lore Games</option>
        <option value="https://cryptors.io/book-of-sift-viewer-en.html">Book of Sift Viewer</option>
    </select>
</div>
	<p class="s">.crs=></p>
	<textarea id="codeInput"></textarea>
	<p>console=></p>
    <pre id="console"></pre>
	<p>.js=></p>
    <pre id="output"></pre>
			<h2>why you need CryptorsScript</h2>
<p>this language is being created to make it easier to create websites and replace javascript and help new engineers in Cryptors city get started so here will be a creation tutorial on .crs 1.0</p>
<h2>print()</h2>
<p>this method is needed to display the results in the console, in which you can display the variable connection of variables and other data that we will consider further</p>
<h2>clear</h2>
<p>this method is needed to clear the console, it does not work in all browsers due to failure, for example, in Google you need to enable access in the settings/p>
<h2>var</h2>
<p>a variable is needed to store data of different types: int, string, object and boolean</p>
<h2>bool</h2>
<p>boolean variable</p>
<h2>obj</h2>
<p>object variable, to display it in the console on this site, you need to write: obj c = {name: "Matvey"}; print(json.stringify(c));</p>
<h2>const</h2>
<p>a constant is used to store some, for example, an object so as not to enter a long path or data that does not need to be changed</p>
<h2>mathematical expressions</h2>
<p>there are different types of mathematical operations like var a = 5; a += 2 is the same as a = a + 2, you can also get a random number if you write random (), in brackets you must put the minimum value and maximum (min, max)</p>
<h2>err()</h2>
<p>needed for error output, but not used in the page console but used in the developer console</p>
<h2>alr()</h2>
<p>alr is needed to warn users, call alr("warn"); and then you will get a window where it will be written "warn"</p>
<h2>conf()</h2>
<p>conf is needed for a question where there are 2 answers: ok or cancel, the answer can be taken into a variable and then you can take information from the user</p>
<h2>prom()</h2>
<p>conf is needed for the question where is it possible to write an answer, this can be taken into a variable and then you can take information from the user</p>
<h2>func</h2>
<p>you can create a function by writing func name_function(parametr, pramet){code} and call the function name_function(parametr, paramet), to make it easier to understand why parameters are needed, I will show an example of creating a function:<br>
func people(name, age){<br>
	print("name: " + name + ", age: " + age);<br>
}<br>
people(Dan, 23);<br>
console: name: Dan, age: 23<br>
</p>
<h2>if/else, while, do while</h2>
<p>if/else, while, do while itself also works like in js because there is no way to make them easier, and they will be written like this <br>
if(a == 4){<br>
       print("yes");<br>
}else{<br>
       print("no");<br>
}<br>
while(a == 3){<br>
       print(a);<br>
       a++<br>
}<br>
do{<br>
       print(a);<br>
       a++<br>
}while(a == 3);</p>
<h2>other</h2>
<p>you can write here like in js and you need to put ';' at the end of almost every line</p>
<p>if you want to write a site on it (the language is only with the console at stage 1.0), then here is the code</p>
<pre id="lol">
<code>
            &lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;title&gt;CRS Interpreter&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;script&gt;
                    function executeCode(code) {
                        try {
                            var jsCode = translateCode(code);
                            eval(jsCode);
                        } catch (error) {
                            console.error('Code execution error:', error);
                        }
                    }

                    function translateCode(inputCode) {
                        var lines = inputCode.split('\n');
                        var jsCode = '';

                        for (var i = 0; i &lt; lines.length; i++) {
                            var line = lines[i].trim();

                            if (line.includes('prom(')) {
                                line = line.replace(/prom\(/g, 'prompt(');
                            }
                            if (line.includes('conf(')) {
                                line = line.replace(/conf\(/g, 'confirm(');
                            }
                            if (line.includes('err("')) {
                                line = line.replace(/err\(/g, 'console.error(');
                            }
                            if (line.includes('func')) {
                                line = line.replace(/^func/g, 'function');
                            }
                            if (line.includes('alr("')) {
                                line = line.replace(/^alr\("/g, 'alert("');
                            }
                            if (line.includes('clear')) {
                                line = line.replace(/^clear/g, 'console.clear()');
                            }
                            if (line.includes('print(')) {
                                line = line.replace(/print\((.+)\);/, 'console.log($1);');
                            }
                            if (line.includes('random(')) {
                                line = line.replace(/random\((\d+), (\d+)\);/, 'Math.floor(Math.random() * ($2 - $1 + 1) + $1);');
                            }

                            if (line.startsWith('var')) {
                                var variableDeclaration = line.substring(3).trim();
                                var equalsIndex = line.indexOf('=');
                                var spaceIndex = line.indexOf(' ');
                                var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
                                var text2 = line.substring(line.indexOf('=') + 1, line.lastIndexOf('(')).trim();

                                if (equalsIndex !== -1) {
                                    var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                                    if (text2.startsWith('prom')) {
                                        jsCode += 'var ' + variableName + ' = prompt(' + text + ');\n';
                                    } else if (text2.startsWith('conf')) {
                                        jsCode += 'var ' + variableName + ' = confirm(' + text + ');\n';
                                    } else {
                                        jsCode += 'var ' + variableDeclaration + '\n';
                                    }
                                }
                            } else if (line.startsWith('print(')) {
                                var content = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();

                                if (content.startsWith('obj(')) {
                                    var objectValue = content.substring(content.indexOf('(') + 1, content.lastIndexOf(')')).trim();
                                    jsCode += 'console.log(' + objectValue + ');\n';
                                } else {
                                    jsCode += 'console.log(' + content + ');\n';
                                }
                            } else if (line.startsWith('bool')) {
                                var boolDeclaration = line.substring(4).trim();
                                var equalsIndex = line.indexOf('=');
                                var spaceIndex = line.indexOf(' ');

                                if (equalsIndex !== -1) {
                                    var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                                    if (boolDeclaration.includes('true')) {
                                        jsCode += 'var ' + variableName + ' = true;\n';
                                    } else if (boolDeclaration.includes('false')) {
                                        jsCode += 'var ' + variableName + ' = false;\n';
                                    } else if (boolDeclaration.includes('prom')) {
                                        var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
                                        'var ' + variableName + ' = prom(' + text + ');\n';
                                    } else if (boolDeclaration.includes('conf')) {
                                        var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
                                        'var ' + variableName + ' = conf(' + text + ');\n';
                                    }
                                }
                            } else if (line.startsWith('obj')) {
                                var objDeclaration = line.substring(3).trim();
                                var equalsIndex = objDeclaration.indexOf('=');

                                if (equalsIndex !== -1) {
                                    var variableName = objDeclaration.substring(0, equalsIndex).trim();
                                    var objValue = objDeclaration.substring(equalsIndex + 1).trim();
                                    jsCode += 'var ' + variableName + ' = ' + objValue + ';\n';
                                }
                            } else if (line.startsWith('const')) {
                                var variableDeclaration = line.substring(5).trim();
                                var equalsIndex = line.indexOf('=');
                                var spaceIndex = line.indexOf(' ');
                                var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
                                var text2 = line.substring(line.indexOf('=') + 1, line.lastIndexOf('(')).trim();

                                if (equalsIndex !== -1) {
                                    var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                                    if (text2.startsWith('prom(')) {
                                        jsCode += 'const ' + variableName + ' = prompt(' + text + ');\n';
                                    } else if (text2.startsWith('conf')) {
                                        jsCode += 'const ' + variableName + ' = confirm(' + text + ');\n';
                                    } else {
                                        jsCode += 'const ' + variableDeclaration + '\n';
                                    }
                                }
                            } else if (line.startsWith('err("')) {
                                var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
                                jsCode += 'console.error("' + text + '");\n';
                            } else if (line.startsWith('alr("')) {
                                var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
                                jsCode += 'alert("' + text + '");\n';
                            } else if (line.startsWith('conf("')) {
                                var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
                                jsCode += 'confirm(' + text + ');\n';
                            } else if (line.startsWith('prom("')) {
                                var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
                                jsCode += 'prompt(' + text + ');\n';
                            } else {
                                jsCode += line + '\n';
                            }
                        }

                        return jsCode;
                    }
                    
                    window.addEventListener('DOMContentLoaded', function() {
                        var code = `
                            &lt;!-- Ваш код здесь --&gt;
                        `;
                        executeCode(code);
                    });
                &lt;/script&gt;
            &lt;/body&gt;
            &lt;/html&gt;
</code>
</pre>

    <script>
function goToPage(pageURL) {
    window.location.href = pageURL;
}

document.getElementById("pageSelect").addEventListener("change", function() {
    var selectedPage = this.value;

    if (selectedPage === "homepage") {
        goToPage("https://cryptors.io/");
    } else if (selectedPage === "discord") {
        goToPage("https://discord.com/invite/cryptors");
    } else if (selectedPage === "lore-games") {
        goToPage("https://cryptors.io/lore-games.html");
    } else if (selectedPage === "book-of-sift-viewer") {
        goToPage("https://cryptors.io/book-of-sift-viewer-en.html");
    }
});


function prom(text) {
    return prompt(text) + 'pt';
}

function interpretCode() {
    var codeInput = document.getElementById('codeInput');
    var code = codeInput.value;

    try {
        var jsCode = translateCode(code);
        document.getElementById('output').textContent = jsCode; // Вывод преобразованного кода в поле вывода
        executeCode(jsCode); // Выполнение преобразованного кода JavaScript
    } catch (error) {
        console.error('Code execution error:', error);
    }
}

function translateCode(inputCode) {
    var lines = inputCode.split('\n');
    var jsCode = '';

    for (var i = 0; i < lines.length; i++) {
        var line = lines[i].trim();
        
        // Здесь ваши изменения, чтобы результаты выводились в элемент <pre id="console">
        if (line.includes('print(')) {
            line = line.replace(/print\((.+)\);/, 'document.getElementById("console").textContent += $1 + "\\n";');
        }
        if (line.includes('prom(')) {
            line = line.replace(/prom\(/g, 'prompt(');
        }
        if (line.includes('conf(')) {
            line = line.replace(/conf\(/g, 'confirm(');
        }
        if (line.includes('err("')) {
            line = line.replace(/err\(/g, 'console.error(');
        }
        if (line.includes('func')) {
            line = line.replace(/^func/g, 'function');
        }
        if (line.includes('alr("')) {
            line = line.replace(/^alr\("/g, 'alert("');
        }
        if (line.startsWith('clear')) {
            jsCode += 'document.getElementById("console").textContent = "";\n';
            continue;
        }
if (line.includes('random(')) {
    line = line.replace(/random\((\d+), (\d+)\);/, 'Math.floor(Math.random() * ($2 - $1 + 1) + $1);');
}



        if (line.startsWith('var')) {
            var variableDeclaration = line.substring(3).trim();
            var equalsIndex = line.indexOf('=');
            var spaceIndex = line.indexOf(' ');
            var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
            var text2 = line.substring(line.indexOf('=') + 1, line.lastIndexOf('(')).trim();

            if (equalsIndex !== -1) {
                var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                if (text2.startsWith('prom')) {
                    jsCode += 'var ' + variableName + ' = prompt(' + text + ');\n';
                } else if (text2.startsWith('conf')) {
                    jsCode += 'var ' + variableName + ' = confirm(' + text + ');\n';
                } else {
                    jsCode += 'var ' + variableDeclaration + '\n';
                }
            }
        } else if (line.startsWith('print(')) {
            var content = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();

            if (content.startsWith('obj(')) {
                var objectValue = content.substring(content.indexOf('(') + 1, content.lastIndexOf(')')).trim();
                jsCode += 'console.log(' + objectValue + ');\n';
            } else {
                jsCode += 'console.log(' + content + ');\n';
            }
        } else if (line.startsWith('bool')) {
            var boolDeclaration = line.substring(4).trim();
            var equalsIndex = line.indexOf('=');
            var spaceIndex = line.indexOf(' ');

            if (equalsIndex !== -1) {
                var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                if (boolDeclaration.includes('true')) {
                    jsCode += 'var ' + variableName + ' = true;\n';
                } else if (boolDeclaration.includes('false')) {
                    jsCode += 'var ' + variableName + ' = false;\n';
                }else if (boolDeclaration.includes('prom')) {
					var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
					'var ' + variableName + ' = prom(' + text + ');\n';
				}else if (boolDeclaration.includes('conf')) {
					var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
					'var ' + variableName + ' = conf(' + text + ');\n';
				}
            }
        } else if (line.startsWith('obj')) {
            var objDeclaration = line.substring(3).trim();
            var equalsIndex = objDeclaration.indexOf('=');

            if (equalsIndex !== -1) {
                var variableName = objDeclaration.substring(0, equalsIndex).trim();
                var objValue = objDeclaration.substring(equalsIndex + 1).trim();
                jsCode += 'var ' + variableName + ' = ' + objValue + ';\n';
            }
        } else if (line.startsWith('const')) {
            var variableDeclaration = line.substring(5).trim();
            var equalsIndex = line.indexOf('=');
            var spaceIndex = line.indexOf(' ');
            var text = line.substring(line.indexOf('(') + 1, line.lastIndexOf(')')).trim();
            var text2 = line.substring(line.indexOf('=') + 1, line.lastIndexOf('(')).trim();

            if (equalsIndex !== -1) {
                var variableName = line.substring(spaceIndex + 1, equalsIndex).trim();

                if (text2.startsWith('prom(')) {
                    jsCode += 'const ' + variableName + ' = prompt(' + text + ');\n';
                } else if (text2.startsWith('conf')) {
                    jsCode += 'const ' + variableName + ' = confirm(' + text + ');\n';
                } else {
                    jsCode += 'const ' + variableDeclaration + '\n';
                }
            }
        } else if (line.startsWith('err("')) {
            var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
            jsCode += 'console.error("' + text + '");\n';
        } else if (line.startsWith('alr("')) {
            var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
            jsCode += 'alert("' + text + '");\n';
        } else if (line.startsWith('conf("')) {
            var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
            jsCode += 'confirm(' + text + ');\n';
        } else if (line.startsWith('prom("')) {
            var text = line.substring(line.indexOf('"') + 1, line.lastIndexOf('"'));
            jsCode += 'prompt(' + text + ');\n';
        } else {
            jsCode += line + '\n';
        }
    }

    return jsCode;
}

function findClosingBracketIndex(lines, startIndex) {
    var bracketCount = 1;

    for (var i = startIndex + 1; i < lines.length; i++) {
        if (lines[i].includes('{')) {
            bracketCount++;
        }

        if (lines[i].includes('}')) {
            bracketCount--;
        }
        if (bracketCount === 0) {
            return i;
        }
    }

    return -1;
}

function executeCode(jsCode) {
    eval(jsCode);
}

function downloadCode() {
    var codeInput = document.getElementById('codeInput');
    var code = codeInput.value;

    var blob = new Blob([code], { type: 'text/plain' });
    var url = URL.createObjectURL(blob);

    var downloadLink = document.createElement('a');
    downloadLink.href = url;
    downloadLink.download = 'crs-code.crs';
    downloadLink.style.display = 'none';
    document.body.appendChild(downloadLink);
    downloadLink.click();
    document.body.removeChild(downloadLink);

    URL.revokeObjectURL(url);
}

    </script>
</body>
</html>